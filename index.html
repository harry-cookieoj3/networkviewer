        async function init() {
            try {
                // キャッシュを避けるためにタイムスタンプを追加
                const response = await fetch(CSV_URL + '&t=' + new Date().getTime());
                const csvText = await response.text();
                
                const results = Papa.parse(csvText, { header: true, skipEmptyLines: true });
                const data = results.data;

                // 読み込んだデータをコンソール（デバッグ用）に出力
                console.log("Loaded data:", data);

                const elements = [];
                data.forEach(row => {
                    // 列名が Id か id か不明なため、両方に対応
                    const id = row.Id || row.id || row.ID;
                    const label = row.Label || row.label || row.name || id;
                    
                    if (id) {
                        elements.push({
                            data: { 
                                id: id, 
                                label: label,
                                color: row.Color || row.color || '#666'
                            },
                            // x, y がない場合も想定してデフォルト値を設定
                            position: { 
                                x: row.x ? parseFloat(row.x) : Math.random() * 1000, 
                                y: row.y ? parseFloat(row.y) : Math.random() * 1000 
                            }
                        });
                    }
                });

                if (elements.length === 0) {
                    throw new Error("データが空か、列名が一致しません。");
                }

                document.getElementById('loading').style.display = 'none';

                const cy = cytoscape({
                    container: document.getElementById('cy'),
                    elements: elements,
                    style: [
                        {
                            selector: 'node',
                            style: {
                                'label': 'data(label)',
                                'background-color': 'data(color)',
                                'width': 20,
                                'height': 20,
                                'font-size': '10px'
                            }
                        }
                    ],
                    layout: { 
                        name: (data[0] && data[0].x) ? 'preset' : 'grid' 
                    }
                });

            } catch (e) {
                document.getElementById('loading').innerText = "エラー: " + e.message;
            }
        }
